"use strict";(self.webpackChunkhorse_shipt_frontend=self.webpackChunkhorse_shipt_frontend||[]).push([[805],{805:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var i=t(43),r=t(216),a=t(16),o=t(916),n=t(579);const l=()=>{const e=(0,r.Zp)(),{login:s}=(0,a.A)(),t=(0,r.zy)().search,[l,g]=(0,i.useState)(null);return(0,i.useEffect)(()=>{const i=new URLSearchParams(t),r=i.get("token"),a=i.get("role"),o=i.get("_id")||"",n=i.get("name")||"",l=i.get("email")||"",c=i.get("photo")||"",d=i.get("provider")||"",p=i.get("providerId")||"",m=i.get("firstName")||"",h=i.get("lastName")||"",u=i.get("locale")||"",f="true"===i.get("isLogin"),v="false"!==i.get("isActive");if(r&&a){s({_id:o,role:a,name:n,email:l,photo:c,provider:d,providerId:p,firstName:m,lastName:h,locale:u,isLogin:f,isActive:v},r,3600),g({message:"Logged in successfully!",type:"info"}),setTimeout(()=>{e("shipper"===a?"/shipper/dashboard":"/customer/dashboard")},1e3)}else g({message:"OAuth login failed. Redirecting...",type:"error"}),setTimeout(()=>e("/login"),1500)},[t,s,e]),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:l?(0,n.jsx)(o.A,{message:l.message,type:l.type,onClose:()=>g(null)}):(0,n.jsx)("p",{className:"text-gray-600",children:"Logging in..."})})}}}]);
//# sourceMappingURL=805.de72dc19.chunk.js.map