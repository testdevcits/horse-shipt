"use strict";(self.webpackChunkhorse_shipt_frontend=self.webpackChunkhorse_shipt_frontend||[]).push([[805],{805:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var r=t(43),n=t(216),o=t(16),a=t(916),i=t(579);const l=()=>{const e=(0,n.Zp)(),{login:s}=(0,o.A)(),t=(0,n.zy)().search,[l,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const r=new URLSearchParams(t),n=r.get("token"),o=r.get("role"),a=r.get("name")||"",i=r.get("email")||"",l=r.get("photo")||"",g=r.get("provider")||"";n&&o?(s({role:o,name:a,email:i,photo:l,provider:g},n,3600),c({message:"Logged in successfully!",type:"info"}),setTimeout(()=>{e("shipper"===o?"/shipper/dashboard":"/customer/dashboard")},1e3)):(c({message:"OAuth login failed. Redirecting...",type:"error"}),setTimeout(()=>e("/login"),1500))},[t,s,e]),(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:l?(0,i.jsx)(a.A,{message:l.message,type:l.type,onClose:()=>c(null)}):(0,i.jsx)("p",{className:"text-gray-600",children:"Logging in..."})})}}}]);
//# sourceMappingURL=805.f102319b.chunk.js.map