{"version":3,"file":"static/js/805.de72dc19.chunk.js","mappings":"uMAKA,MA0EA,EA1EyBA,KACvB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,MAAEC,IAAUC,EAAAA,EAAAA,KACZC,GAASC,EAAAA,EAAAA,MAAcD,QACtBE,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,MAuDnC,OArDAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAS,IAAIC,gBAAgBP,GAC7BQ,EAAQF,EAAOG,IAAI,SACnBC,EAAOJ,EAAOG,IAAI,QAClBE,EAAML,EAAOG,IAAI,QAAU,GAC3BG,EAAON,EAAOG,IAAI,SAAW,GAC7BI,EAAQP,EAAOG,IAAI,UAAY,GAC/BK,EAAQR,EAAOG,IAAI,UAAY,GAC/BM,EAAWT,EAAOG,IAAI,aAAe,GACrCO,EAAaV,EAAOG,IAAI,eAAiB,GACzCQ,EAAYX,EAAOG,IAAI,cAAgB,GACvCS,EAAWZ,EAAOG,IAAI,aAAe,GACrCU,EAASb,EAAOG,IAAI,WAAa,GACjCW,EAAoC,SAA1Bd,EAAOG,IAAI,WACrBY,EAAsC,UAA3Bf,EAAOG,IAAI,YAE5B,GAAID,GAASE,EAAM,CAiBjBZ,EAhBiB,CACfa,MACAD,OACAE,OACAC,QACAC,QACAC,WACAC,aACAC,YACAC,WACAC,SACAC,UACAC,YAIcb,EAAO,MAGvBL,EAAS,CAAEmB,QAAS,0BAA2BC,KAAM,SAGrDC,WAAW,KACT5B,EACW,YAATc,EAAqB,qBAAuB,wBAE7C,IACL,MACEP,EAAS,CACPmB,QAAS,qCACTC,KAAM,UAERC,WAAW,IAAM5B,EAAS,UAAW,OAEtC,CAACI,EAAQF,EAAOF,KAGjB6B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gDAA+CC,SAC3DzB,GACCuB,EAAAA,EAAAA,KAACG,EAAAA,EAAK,CACJN,QAASpB,EAAMoB,QACfC,KAAMrB,EAAMqB,KACZM,QAASA,IAAM1B,EAAS,SAG1BsB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAC,oB","sources":["pages/auth/OAuthSuccessPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport Toast from \"../../components/common/Toast\";\n\nconst OAuthSuccessPage = () => {\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const search = useLocation().search;\n  const [toast, setToast] = useState(null);\n\n  useEffect(() => {\n    const params = new URLSearchParams(search);\n    const token = params.get(\"token\");\n    const role = params.get(\"role\");\n    const _id = params.get(\"_id\") || \"\";\n    const name = params.get(\"name\") || \"\";\n    const email = params.get(\"email\") || \"\";\n    const photo = params.get(\"photo\") || \"\";\n    const provider = params.get(\"provider\") || \"\";\n    const providerId = params.get(\"providerId\") || \"\";\n    const firstName = params.get(\"firstName\") || \"\";\n    const lastName = params.get(\"lastName\") || \"\";\n    const locale = params.get(\"locale\") || \"\";\n    const isLogin = params.get(\"isLogin\") === \"true\"; // parse boolean\n    const isActive = params.get(\"isActive\") !== \"false\"; // default true\n\n    if (token && role) {\n      const userData = {\n        _id,\n        role,\n        name,\n        email,\n        photo,\n        provider,\n        providerId,\n        firstName,\n        lastName,\n        locale,\n        isLogin,\n        isActive,\n      };\n\n      // Save in context & localStorage\n      login(userData, token, 3600);\n\n      // Show toast first\n      setToast({ message: \"Logged in successfully!\", type: \"info\" });\n\n      // Redirect after a short delay\n      setTimeout(() => {\n        navigate(\n          role === \"shipper\" ? \"/shipper/dashboard\" : \"/customer/dashboard\"\n        );\n      }, 1000);\n    } else {\n      setToast({\n        message: \"OAuth login failed. Redirecting...\",\n        type: \"error\",\n      });\n      setTimeout(() => navigate(\"/login\"), 1500);\n    }\n  }, [search, login, navigate]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\">\n      {toast ? (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => setToast(null)}\n        />\n      ) : (\n        <p className=\"text-gray-600\">Logging in...</p>\n      )}\n    </div>\n  );\n};\n\nexport default OAuthSuccessPage;\n"],"names":["OAuthSuccessPage","navigate","useNavigate","login","useAuth","search","useLocation","toast","setToast","useState","useEffect","params","URLSearchParams","token","get","role","_id","name","email","photo","provider","providerId","firstName","lastName","locale","isLogin","isActive","message","type","setTimeout","_jsx","className","children","Toast","onClose"],"sourceRoot":""}